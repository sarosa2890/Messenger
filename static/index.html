<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>–ú–æ–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</title>
  <link rel="stylesheet" href="/static/style.css">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
</head>
<body data-theme="dark">
  <div class="app">

    <!-- Sidebar -->
    <aside class="left">
      <header class="brand">
        <div class="title">–ú–æ–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</div>
        <div class="muted">–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç 3 –ª–∏—Ü</div>
      </header>

      <div class="search-wrap">
        <input id="search" type="text" placeholder="–ü–æ–∏—Å–∫ (—á–∞—Ç—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)">
        <div id="search-results" class="search-results"></div>
      </div>

      <div id="chats" class="chats"></div>

      <footer class="left-footer">
        <button id="settings-btn" class="btn small">‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã</button>
        <button id="theme-btn" class="btn small">–¢–µ–º–∞</button>
        <button id="add-chat" class="btn small">+</button>
        <button id="logout" class="btn small danger">–í—ã–π—Ç–∏</button>
      </footer>
    </aside>

    <!-- Main -->
    <main class="main">
      <div class="chat-header">
        <div class="peer">
          <img id="peer-avatar" class="avatar" src="" alt="" />
          <div class="peer-col">
            <div id="peer-name" class="peer-name"></div>
            <div id="peer-status" class="peer-status muted"></div>
          </div>
        </div>
        <div class="chat-actions">
          <button id="call-voice" class="icon-btn" title="–ó–≤–æ–Ω–æ–∫">üìû</button>
          <button id="call-video" class="icon-btn" title="–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫">üé•</button>
        </div>
      </div>

      <div id="messages" class="messages gradient-bg"></div>

      <div class="composer">
        <button id="gif-open" class="chip">GIF</button>
        <input id="msg" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." />
        <button id="emoji" class="icon-btn" title="–≠–º–æ–¥–∑–∏">üòä</button>
        <button id="send" class="send-btn" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å">‚úàÔ∏è</button>
      </div>
    </main>

    <!-- GIF panel -->
    <aside id="gif-panel" class="gif-panel hidden">
      <div class="gif-bar">
        <input id="gif-q" type="text" placeholder="–ù–∞–π—Ç–∏ GIF">
        <button id="gif-search" class="btn small">–ù–∞–π—Ç–∏</button>
        <button id="gif-close" class="btn small">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
      <div id="gif-grid" class="gif-grid"></div>
    </aside>
  </div>

  <!-- Video Call Modal -->
  <div id="call-modal" class="call-modal">
    <div class="call-header">
      <div class="call-info">
        <img id="call-peer-avatar" class="call-avatar" src="" alt="">
        <div>
          <div id="call-peer-name" class="call-name"></div>
          <div id="call-status" class="call-status">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ...</div>
        </div>
      </div>
      <div id="call-duration" class="call-duration">00:00</div>
    </div>
    
    <div class="video-container">
      <video id="remote-video" class="remote-video" autoplay playsinline></video>
      <video id="local-video" class="local-video" autoplay muted playsinline></video>
      <div id="screen-share-indicator" class="screen-share-indicator">–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞</div>
    </div>

    <div class="call-controls">
      <button id="mute-btn" class="call-btn mute" title="–í—ã–∫–ª—é—á–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω">üé§</button>
      <button id="video-btn" class="call-btn video" title="–í—ã–∫–ª—é—á–∏—Ç—å –∫–∞–º–µ—Ä—É">üìπ</button>
      <button id="screen-btn" class="call-btn screen" title="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞">üñ•Ô∏è</button>
      <button id="end-call-btn" class="call-btn end" title="–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫">üìû</button>
    </div>
  </div>

  <!-- Incoming call popup -->
  <div id="incoming-call" class="incoming-call">
    <div class="incoming-info">
      <img id="incoming-avatar" class="incoming-avatar" src="" alt="">
      <div>
        <div id="incoming-name" class="incoming-name"></div>
        <div id="incoming-type" class="incoming-type">–í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫</div>
      </div>
    </div>
    <div class="incoming-controls">
      <button id="accept-call" class="accept-btn">–ü—Ä–∏–Ω—è—Ç—å</button>
      <button id="decline-call" class="decline-btn">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settings-modal" class="settings-modal">
    <div class="settings-content">
      <div class="settings-header">
        <h2 class="settings-title">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
        <button id="close-settings" class="close-btn">√ó</button>
      </div>

      <!-- Profile Section -->
      <div class="profile-section">
        <img class="profile-avatar" id="settings-avatar" src="" alt="–í–∞—à –∞–≤–∞—Ç–∞—Ä" title="–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤–∞—Ç–∞—Ä–∞">
        <div class="profile-info">
          <h3 id="settings-username">–ó–∞–≥—Ä—É–∑–∫–∞...</h3>
          <p id="settings-user-handle">@–∑–∞–≥—Ä—É–∑–∫–∞...</p>
          <input type="file" id="avatar-input" class="avatar-input" accept="image/*">
          <button class="change-avatar-btn" id="change-avatar-btn">–ò–∑–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</button>
        </div>
      </div>

      <!-- Settings Groups -->
      <div class="setting-group">
        <label class="setting-label">–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è</label>
        <div class="setting-desc">–ò–º—è, –∫–æ—Ç–æ—Ä–æ–µ –≤–∏–¥—è—Ç –¥—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
        <input type="text" class="setting-input" id="display-name" placeholder="–í–∞—à–µ –∏–º—è">
      </div>

      <div class="setting-group">
        <label class="setting-label">–°—Ç–∞—Ç—É—Å</label>
        <div class="setting-desc">–°—Ç–∞—Ç—É—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥—è—Ç –¥—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
        <input type="text" class="setting-input" value="–î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –æ–±—â–µ–Ω–∏—è" id="user-status">
      </div>

      <div class="setting-group">
        <label class="setting-label">–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</label>
        <div class="setting-desc">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</div>
        <select class="setting-select" id="language">
          <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          <option value="en">English</option>
        </select>
      </div>

      <div class="setting-group">
        <div class="toggle-wrapper">
          <div>
            <div class="setting-label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
            <div class="setting-desc">–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö</div>
          </div>
          <div class="toggle active" id="notifications-toggle"></div>
        </div>
      </div>

      <div class="setting-group">
        <div class="toggle-wrapper">
          <div>
            <div class="setting-label">–ó–≤—É–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</div>
            <div class="setting-desc">–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∑–≤—É–∫ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π</div>
          </div>
          <div class="toggle active" id="sounds-toggle"></div>
        </div>
      </div>

      <div class="setting-group">
        <div class="toggle-wrapper">
          <div>
            <div class="setting-label">–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞</div>
            <div class="setting-desc">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ GIF</div>
          </div>
          <div class="toggle" id="auto-media-toggle"></div>
        </div>
      </div>

      <div class="settings-footer">
        <button class="btn btn-secondary" id="reset-settings">–°–±—Ä–æ—Å–∏—Ç—å</button>
        <button class="btn" id="save-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

<div class="chat-header">
  <div class="peer">
    <button id="menu-btn" class="icon-btn">‚ò∞</button> <!-- –≥–∞–º–±—É—Ä–≥–µ—Ä -->
    <img class="avatar" id="peer-avatar" src="" alt="">
    <div>
      <div class="peer-name" id="peer-name"></div>
      <div class="tiny muted" id="peer-status"></div>
    </div>
  </div>
  <div class="peer-actions">
    <button id="call-btn" class="icon-btn">üìû</button>
    <button id="video-btn" class="icon-btn">üé•</button>
  </div>
</div>


  <!-- Login/Register modal -->
  <div id="auth" class="auth">
    <div class="auth-card">
      <div class="tabs">
        <button data-tab="login" class="tab active">–í—Ö–æ–¥</button>
        <button data-tab="register" class="tab">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
      </div>
      <div id="pane-login" class="pane show">
        <input id="l-username" placeholder="Username" autocomplete="username">
        <input id="l-password" placeholder="–ü–∞—Ä–æ–ª—å" type="password" autocomplete="current-password">
        <button id="do-login" class="btn wide">–í–æ–π—Ç–∏</button>
      </div>
      <div id="pane-register" class="pane">
        <input id="r-username" placeholder="Username (–ª–∞—Ç–∏–Ω–∏—Ü–∞)">
        <input id="r-password" placeholder="–ü–∞—Ä–æ–ª—å" type="password">
        <div class="muted tiny">–º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤, –∑–∞–≥–ª–∞–≤–Ω–∞—è, —Å—Ç—Ä–æ—á–Ω–∞—è –∏ —Ü–∏—Ñ—Ä–∞</div>
        <button id="do-register" class="btn wide">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      </div>
    </div>
  </div>

  <script>
    window.GIPHY_KEY = "V74kqdBbCYAUY5wVIWCpIVVuLa28jzj6";
  </script>
  <script src="/static/app.js"></script>
</body>
</html>